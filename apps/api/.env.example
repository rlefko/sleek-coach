# =============================================================================
# Sleek Coach API - Environment Configuration
# =============================================================================
# Copy this file to .env and customize values as needed.
# The default values work out-of-the-box with docker-compose.
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_ENV=development
DEBUG=true
SECRET_KEY=dev-secret-key-minimum-32-characters-long
API_V1_PREFIX=/api/v1

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# For Docker Compose (default):
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/sleek_coach

# For local development without Docker:
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/sleek_coach

DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
# For Docker Compose (default):
REDIS_URL=redis://redis:6379/0

# For local development without Docker:
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=dev-jwt-secret-key-32-chars-minimum
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# AWS / S3 / MinIO
# -----------------------------------------------------------------------------
# For local development, these defaults work with the MinIO container
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_REGION=us-east-1
S3_BUCKET_NAME=sleek-coach-photos

# For Docker Compose (default):
S3_ENDPOINT_URL=http://minio:9000

# For local development without Docker:
# S3_ENDPOINT_URL=http://localhost:9000

# For production (leave empty to use real AWS S3):
# S3_ENDPOINT_URL=

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
# JSON array of allowed origins
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8081", "http://localhost:19006"]

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=console

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# -----------------------------------------------------------------------------
# AI Coach (OpenAI)
# -----------------------------------------------------------------------------
# Required for AI coach functionality - get your key at https://platform.openai.com
OPENAI_API_KEY=

OPENAI_DEFAULT_MODEL=gpt-4o-mini
OPENAI_TIMEOUT_SECONDS=60
COACH_DEFAULT_MODEL_TIER=standard
COACH_MAX_CONVERSATION_HISTORY=20
COACH_CONTEXT_MAX_TOKENS=4000
COACH_CACHE_TTL_SECONDS=300

# -----------------------------------------------------------------------------
# Safety Thresholds
# -----------------------------------------------------------------------------
COACH_MIN_CALORIES_FEMALE=1200
COACH_MIN_CALORIES_MALE=1500
COACH_MAX_DEFICIT=1000
